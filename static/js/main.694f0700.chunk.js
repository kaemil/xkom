(this.webpackJsonpreservation=this.webpackJsonpreservation||[]).push([[0],{47:function(e,s,r){},48:function(e,s,r){"use strict";r.r(s);var d=r(1),t=r(6),c=r.n(t),i=r(2),a=(r(27),r(5)),o=function(e){return{type:"SEAT_UNCHOICE",payload:e}},n=r(0);var l=function(){for(var e=Object(i.c)((function(e){return e.showCard})),s=Object(i.c)((function(e){return e})),r=Object(i.c)((function(e){return e.inputedNumber})),t=Object(i.c)((function(e){return e.seatChoice})),c=Object(i.c)((function(e){return e.setData.seats})),l=Object(i.c)((function(e){return e.seatsClose})),v=Object(i.b)(),y=[],x=0;x<s.setData.seats.length;x++)!1===s.setData.seats[x].reserved&&y.push(s.setData.seats[x].reserved.toString());var u=y.length;return Object(d.useEffect)((function(){""===document.getElementById("seatsNumber").value&&document.getElementById("selectSeats").setAttribute("disabled","")})),Object(n.jsxs)("div",{className:"chooseSeatCard",style:e,id:"chooseSeat",children:[Object(n.jsxs)("div",{className:"chooseSeatCard__input",children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{htmlFor:"seatsNumber",children:"Liczba miejsc: "})}),Object(n.jsx)("input",{type:"text",id:"seatsNumber",onChange:function(e){document.getElementById("selectSeats").removeAttribute("disabled","");var s;s=e.target.value,Object(a.a)(s).every((function(e){return"0123456789".includes(e)}))?(document.getElementById("warning").textContent="",e.target.value>0&&e.target.value<=u?(document.getElementById("selectSeats").removeAttribute("disabled",""),v({type:"INPUTED_NUMBER_OF_SEATS",payload:e.target.value})):(document.getElementById("warning").textContent="Liczba dost\u0119pnych miejsc: ".concat(u),document.getElementById("selectSeats").setAttribute("disabled",""))):(document.getElementById("warning").textContent="Podaj liczb\u0119. Dost\u0119pne miejsca: ".concat(u),document.getElementById("selectSeats").setAttribute("disabled",""))}})]}),Object(n.jsx)("div",{className:"chooseSeatCard__warning",id:"warning"}),Object(n.jsxs)("div",{className:"chooseSeatCard__checkbox",children:[Object(n.jsx)("input",{type:"checkbox",id:"seatsTogether",onChange:function(){v({type:"SEATS_CLOSE_BY"})}}),Object(n.jsx)("label",{htmlFor:"seatsTogether",children:"Czy miejsca maj\u0105 by\u0107 obok siebie?"})]}),Object(n.jsx)("button",{className:"chooseSeatCard__button",onClick:function(){v({type:"SEAT_NUMBER_TO_RESERVE",payload:r});var e=[];l&&void 0!==(e=function(e){for(var s=[],r=[],d=[],t=0;t<c.length;t++)s.push(c[t].cords.x),r.push(c[t].cords.y),d.push(c[t].id);for(var i=Math.max.apply(Math,s),a=Math.max.apply(Math,r),o=[],n=[],l=[],v=[],y=[],x=[],u=[],j=e,h=0;h<c.length;h++)n.push(c[h].id);for(var b=0;b<c.length;b++)l.push(c[b].reserved);for(var m=0;m<=i;m++)for(var O=0;O<=a;O++)o.push("s".concat(m).concat(O));for(var p=0;p<=i;p++)for(var f=0;f<a-j+2;f++){var E=o.slice(o.indexOf("s".concat(p).concat(f)),j+o.indexOf("s".concat(p).concat(f)));y.push(E)}for(var g=0;g<n.length-j+1;g++){var _=n.slice(g,g+j);x.push(_)}for(var S=0;S<l.length-j+1;S++){var C=l.slice(S,S+j);u.push(C)}for(var N=0;N<=y.length;N++)for(var T=0;T<x.length;T++){var I=JSON.stringify(y[N])===JSON.stringify(x[T]);u[T].includes(!0)||!0===I&&v.push(y[N])}return v[Math.floor(Math.random()*v.length)]}(parseInt(r)))&&e.forEach((function(e){v(o(e))})),console.log(t.length),0==t.length&&document.getElementById("reserveSeat").setAttribute("disabled",""),document.getElementById("mainCard").style.display="block",document.getElementById("chooseSeat").style.display="none"},id:"selectSeats",children:"Wybierz miejsca"})]})};var v=function(){var e=Object(i.b)(),s=Object(i.c)((function(e){return e.setData.seats})),r=Object(i.c)((function(e){return e.seatChoice})),t=Object(i.c)((function(e){return e.seatNumber})),c=[],a=[],l=[],v=[],y=[];r.forEach((function(e){y.push(e)}));for(var x=0;x<s.length;x++)c.push(s[x].cords.x),a.push(s[x].cords.y),v.push(s[x].id);var u=Math.max.apply(Math,c),j=Math.max.apply(Math,a);Object(d.useEffect)((function(){for(var e=0;e<s.length;e++)!0===s[e].reserved&&(document.getElementById(s[e].id).style.background="#474747",document.getElementById(s[e].id).classList.add("reserved"),document.querySelectorAll(".reserved").forEach((function(e){e.disabled=!0})));r.forEach((function(e){document.getElementById(e).classList.add("seatSelected")}))})),0!=r.length&&document.getElementById("reserveSeat").removeAttribute("disabled","");for(var h=0;h<=u;h++)for(var b=function(s){var d="s"+h+s;v.includes(d)?l.push(Object(n.jsx)("div",{className:"seatEmpty",children:Object(n.jsx)("button",{className:"seat",id:d,onClick:function(){y.includes(d)?(e({type:"SEAT_CHOICE",payload:y.indexOf(d)}),document.getElementById(d).classList.remove("seatSelected"),r.length-1==0&&document.getElementById("reserveSeat").setAttribute("disabled","")):r.length!=t&&e(o(d))}})},d)):l.push(Object(n.jsx)("div",{className:"seatEmpty",id:d},d))},m=0;m<=j;m++)b(m);var O=[];return 0!=t&&O.push(Object(n.jsxs)("span",{children:["/",t]})),Object(n.jsxs)("div",{className:"mainCard",id:"mainCard",children:[Object(n.jsx)("div",{className:"mainCard__container",children:l}),Object(n.jsxs)("div",{className:"mainCard__choosedSeatsInfo",children:["Wybrane miejsca: ",r.length,O]}),Object(n.jsxs)("div",{class:"mainCard__legend",children:[Object(n.jsxs)("div",{class:"legend__element",children:[Object(n.jsx)("div",{className:"seat"}),Object(n.jsx)("div",{className:"para",children:Object(n.jsx)("p",{children:"Miejsca dost\u0119pne"})})]}),Object(n.jsxs)("div",{class:"legend__element",children:[Object(n.jsx)("div",{className:"seat",style:{backgroundColor:"#474747"}}),Object(n.jsx)("div",{className:"para",children:Object(n.jsx)("p",{children:"Miejsca zarezerwowane"})})]}),Object(n.jsxs)("div",{class:"legend__element",children:[Object(n.jsx)("div",{className:"seat",style:{backgroundColor:"#ff8a05"}}),Object(n.jsx)("div",{className:"para",children:Object(n.jsx)("p",{children:"Tw\xf3j wyb\xf3r"})})]}),Object(n.jsx)("button",{className:"mainCard__button",id:"reserveSeat",onClick:function(){var r;e({type:"SEAT_TO_CONFIRM",payload:y}),e({type:"UPDATED_DATA_LIST",payload:s}),e((r=y,console.log(r),{type:"UPDATED_RESERVED_SEATS",payload:r})),document.getElementById("mainCard").style.display="none",document.getElementById("summaryCard").style.display="block"},children:"Rezerwuj"})]})]})};var y=function(){for(var e=Object(i.c)((function(e){return e.setData.seats})),s=Object(i.c)((function(e){return e.seatToConfirm})),r=[],d=0;d<e.length;d++)s.includes(e[d].id)&&r.push(Object(n.jsxs)("p",{children:["- rz\u0105d x",e[d].cords.x,", miejsce y",e[d].cords.y," (",e[d].id,")"]},e[d].id));return Object(n.jsxs)("div",{className:"summaryCard",id:"summaryCard",children:[Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:"Twoja rezerwacja przebieg\u0142a pomy\u015blnie!"})}),Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{children:["Wybra\u0142e\u015b/a\u015b miejsca",r]})}),Object(n.jsx)("div",{children:Object(n.jsx)("h5",{children:"Dzi\u0119kujemy. W razie problem\xf3w prosimy o kontakt z dzia\u0142em administracji."})})]})},x=(r(47),[{id:"s02",cords:{x:0,y:2},reserved:!1},{id:"s03",cords:{x:0,y:3},reserved:!1},{id:"s04",cords:{x:0,y:4},reserved:!1},{id:"s06",cords:{x:0,y:6},reserved:!1},{id:"s07",cords:{x:0,y:7},reserved:!1},{id:"s08",cords:{x:0,y:8},reserved:!0},{id:"s09",cords:{x:0,y:9},reserved:!0},{id:"s011",cords:{x:0,y:11},reserved:!1},{id:"s012",cords:{x:0,y:12},reserved:!1},{id:"s013",cords:{x:0,y:13},reserved:!1},{id:"s014",cords:{x:0,y:14},reserved:!1},{id:"s12",cords:{x:1,y:2},reserved:!1},{id:"s13",cords:{x:1,y:3},reserved:!1},{id:"s14",cords:{x:1,y:4},reserved:!1},{id:"s16",cords:{x:1,y:6},reserved:!1},{id:"s17",cords:{x:1,y:7},reserved:!1},{id:"s18",cords:{x:1,y:8},reserved:!1},{id:"s19",cords:{x:1,y:9},reserved:!1},{id:"s111",cords:{x:1,y:11},reserved:!1},{id:"s112",cords:{x:1,y:12},reserved:!1},{id:"s113",cords:{x:1,y:13},reserved:!1},{id:"s114",cords:{x:1,y:14},reserved:!1},{id:"s22",cords:{x:2,y:2},reserved:!1},{id:"s23",cords:{x:2,y:3},reserved:!1},{id:"s24",cords:{x:2,y:4},reserved:!1},{id:"s26",cords:{x:2,y:6},reserved:!1},{id:"s27",cords:{x:2,y:7},reserved:!1},{id:"s28",cords:{x:2,y:8},reserved:!1},{id:"s29",cords:{x:2,y:9},reserved:!1},{id:"s211",cords:{x:2,y:11},reserved:!1},{id:"s212",cords:{x:2,y:12},reserved:!1},{id:"s213",cords:{x:2,y:13},reserved:!0},{id:"s214",cords:{x:2,y:14},reserved:!0},{id:"s30",cords:{x:3,y:0},reserved:!0},{id:"s31",cords:{x:3,y:1},reserved:!0},{id:"s32",cords:{x:3,y:2},reserved:!1},{id:"s33",cords:{x:3,y:3},reserved:!1},{id:"s34",cords:{x:3,y:4},reserved:!1},{id:"s36",cords:{x:3,y:6},reserved:!0},{id:"s37",cords:{x:3,y:7},reserved:!1},{id:"s38",cords:{x:3,y:8},reserved:!1},{id:"s39",cords:{x:3,y:9},reserved:!0},{id:"s311",cords:{x:3,y:11},reserved:!0},{id:"s312",cords:{x:3,y:12},reserved:!0},{id:"s313",cords:{x:3,y:13},reserved:!1},{id:"s314",cords:{x:3,y:14},reserved:!1},{id:"s40",cords:{x:4,y:0},reserved:!0},{id:"s41",cords:{x:4,y:1},reserved:!0},{id:"s42",cords:{x:4,y:2},reserved:!1},{id:"s43",cords:{x:4,y:3},reserved:!1},{id:"s44",cords:{x:4,y:4},reserved:!1},{id:"s46",cords:{x:4,y:6},reserved:!1},{id:"s47",cords:{x:4,y:7},reserved:!1},{id:"s48",cords:{x:4,y:8},reserved:!0},{id:"s49",cords:{x:4,y:9},reserved:!0},{id:"s411",cords:{x:4,y:11},reserved:!1},{id:"s412",cords:{x:4,y:12},reserved:!1},{id:"s413",cords:{x:4,y:13},reserved:!1},{id:"s414",cords:{x:4,y:14},reserved:!1},{id:"s50",cords:{x:5,y:0},reserved:!1},{id:"s51",cords:{x:5,y:1},reserved:!1},{id:"s52",cords:{x:5,y:2},reserved:!1},{id:"s53",cords:{x:5,y:3},reserved:!1},{id:"s54",cords:{x:5,y:4},reserved:!1},{id:"s60",cords:{x:6,y:0},reserved:!0},{id:"s61",cords:{x:6,y:1},reserved:!0},{id:"s62",cords:{x:6,y:2},reserved:!1},{id:"s63",cords:{x:6,y:3},reserved:!1},{id:"s64",cords:{x:6,y:4},reserved:!0},{id:"s66",cords:{x:6,y:6},reserved:!0},{id:"s67",cords:{x:6,y:7},reserved:!0},{id:"s68",cords:{x:6,y:8},reserved:!1},{id:"s611",cords:{x:6,y:11},reserved:!0},{id:"s612",cords:{x:6,y:12},reserved:!1},{id:"s613",cords:{x:6,y:13},reserved:!1},{id:"s614",cords:{x:6,y:14},reserved:!1},{id:"s70",cords:{x:7,y:0},reserved:!1},{id:"s71",cords:{x:7,y:1},reserved:!1},{id:"s72",cords:{x:7,y:2},reserved:!1},{id:"s73",cords:{x:7,y:3},reserved:!1},{id:"s74",cords:{x:7,y:4},reserved:!1},{id:"s76",cords:{x:7,y:6},reserved:!1},{id:"s77",cords:{x:7,y:7},reserved:!1},{id:"s78",cords:{x:7,y:8},reserved:!1},{id:"s79",cords:{x:7,y:9},reserved:!1},{id:"s711",cords:{x:7,y:11},reserved:!1},{id:"s712",cords:{x:7,y:12},reserved:!1},{id:"s713",cords:{x:7,y:13},reserved:!1},{id:"s714",cords:{x:7,y:14},reserved:!1},{id:"s80",cords:{x:8,y:0},reserved:!1},{id:"s81",cords:{x:8,y:1},reserved:!1},{id:"s82",cords:{x:8,y:2},reserved:!1},{id:"s83",cords:{x:8,y:3},reserved:!1},{id:"s84",cords:{x:8,y:4},reserved:!1},{id:"s86",cords:{x:8,y:6},reserved:!1},{id:"s87",cords:{x:8,y:7},reserved:!0},{id:"s88",cords:{x:8,y:8},reserved:!0},{id:"s89",cords:{x:8,y:9},reserved:!1},{id:"s811",cords:{x:8,y:11},reserved:!0},{id:"s812",cords:{x:8,y:12},reserved:!1},{id:"s813",cords:{x:8,y:13},reserved:!1},{id:"s814",cords:{x:8,y:14},reserved:!1},{id:"s90",cords:{x:9,y:0},reserved:!0},{id:"s91",cords:{x:9,y:1},reserved:!0},{id:"s92",cords:{x:9,y:2},reserved:!0},{id:"s93",cords:{x:9,y:3},reserved:!0},{id:"s94",cords:{x:9,y:4},reserved:!1},{id:"s96",cords:{x:9,y:6},reserved:!1},{id:"s97",cords:{x:9,y:7},reserved:!1},{id:"s98",cords:{x:9,y:8},reserved:!1},{id:"s99",cords:{x:9,y:9},reserved:!1},{id:"s911",cords:{x:9,y:11},reserved:!0},{id:"s912",cords:{x:9,y:12},reserved:!0},{id:"s913",cords:{x:9,y:13},reserved:!1},{id:"s914",cords:{x:9,y:14},reserved:!1}]);var u=function(){var e=Object(i.b)();return Object(d.useEffect)((function(){e({type:"SET_DATE",payload:x})})),Object(n.jsxs)("div",{children:[Object(n.jsx)(l,{}),Object(n.jsx)(v,{}),Object(n.jsx)(y,{})]})},j=r(7),h=r(4),b={seats:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,s=arguments.length>1?arguments[1]:void 0,r=s.type,d=s.payload;switch(r){case"SET_DATE":return Object(h.a)(Object(h.a)({},e),{},{seats:d});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SEAT_NUMBER_TO_RESERVE":return s.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"INPUTED_NUMBER_OF_SEATS":return s.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SEAT_CHOICE":return Object(a.a)(e.slice(0,s.payload).concat(e.slice(s.payload+1)));case"SEAT_UNCHOICE":return[].concat(Object(a.a)(e),[s.payload]);default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SEATS_CLOSE_BY":return!e;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SEAT_TO_CONFIRM":return s.payload;default:return e}},_={seats:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"UPDATED_DATA_LIST":return Object(h.a)(Object(h.a)({},e),{},{seats:s.payload});case"UPDATED_RESERVED_SEATS":return e.seats.map((function(e,r){return e.id===s.payload[r]?Object(h.a)(Object(h.a)({},e),{},{reserved:!0}):e}));default:return e}},C=Object(j.a)({setData:m,seatNumber:O,seatChoice:f,inputedNumber:p,seatsClose:E,seatToConfirm:g,updatedDataList:S}),N=Object(j.b)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(n.jsx)(i.a,{store:N,children:Object(n.jsx)(u,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.694f0700.chunk.js.map